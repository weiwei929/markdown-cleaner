# 测试文件大小限制

这个文件用于测试文件上传的大小限制功能。

## 测试场景

1. **小文件测试**（< 5MB）- 应该成功上传
2. **大文件测试**（> 5MB）- 应该被拒绝并显示错误提示

## 如何创建大文件测试

可以使用以下命令创建一个超过 5MB 的测试文件：

```bash
# Windows PowerShell
# 创建一个 6MB 的测试文件
$largeContent = "x" * 6MB
$largeContent | Out-File -FilePath test-large.md -Encoding UTF8

# 或者使用循环创建
for ($i = 0; $i -lt 100000; $i++) {
    "# 测试标题 $i" | Out-File -FilePath test-large.md -Append -Encoding UTF8
    "这是一段测试内容，用于填充文件大小。" | Out-File -FilePath test-large.md -Append -Encoding UTF8
}
```

## 预期行为

### 小文件（< 5MB）
- ✅ 文件成功上传
- ✅ 显示文件名
- ✅ 内容加载到编辑器
- ✅ 可以进行处理

### 大文件（> 5MB）
- ❌ 上传被拒绝
- ⚠️ 显示错误提示："文件过大 (X.XX MB)，最大支持 5MB。请压缩文件或分割成多个小文件。"
- 📝 文件不会加载到编辑器

### 不支持的格式
- ❌ 上传被拒绝
- ⚠️ 显示错误提示："不支持的文件格式: .xxx。只支持以下格式: .md, .markdown, .txt"
- 📝 文件不会加载到编辑器

## 安全特性

1. **客户端验证**：在文件选择时立即检查
2. **服务端验证**：在上传接口中再次检查
3. **友好的错误提示**：清晰说明问题和解决方案
4. **配置灵活**：可通过环境变量调整限制
